# HuePress Art Factory - Development Tasks

## Current Phase: M0 - Foundations âœ…

### [x] Planning & Setup
- [x] Review PRD and create implementation plan
- [x] Get user approval on implementation plan and tech choices

### [x] M0: Foundations
- [x] Initialize Electron project with Electron Forge + Vite
- [x] Configure secure Electron defaults (contextIsolation, sandbox, CSP)
- [x] Set up TypeScript + React renderer
- [x] Create preload script with minimal contextBridge API
- [x] Set up SQLite database with better-sqlite3
- [x] Create initial database schema and migrations
- [x] Implement project folder layout (db/assets/exports)
- [x] Create settings store with electron-store
- [x] Add safeStorage integration for API key encryption
- [x] Verify secure IPC boundary with type-safe channels

### [ ] M1: Import + Library
- [ ] JSON array paste/import UI
- [ ] Schema validation with Zod
- [ ] Dedupe logic with content hashing
- [ ] Batch management and persistence
- [ ] Library grid/list view with virtualization
- [ ] Filter system (status/category/skill/tags)
- [ ] Item detail panel (metadata view)

### [ ] M2: Generation Pipeline
- [ ] Job queue with BullMQ-like semantics
- [ ] Gemini API client wrapper
- [ ] Prompt template engine with versioning
- [ ] Image persistence + SHA256 checksums
- [ ] Concurrency control and rate limiting
- [ ] Retry logic with exponential backoff
- [ ] Basic QC checks (B/W, borders, margins)
- [ ] Generation attempt history tracking

### [ ] M3: Review + Iteration
- [ ] Full review UI with large preview
- [ ] Regenerate action
- [ ] Modify action (text instruction)
- [ ] Accept/Reject workflow
- [ ] QC flags display and notes
- [ ] Batch operations

### [ ] M4: Export + Release
- [ ] Export runner with profiles
- [ ] Deterministic ArtID naming
- [ ] JSON sidecar generation
- [ ] Packaging per OS (macOS, Windows)
- [ ] Code signing hooks
- [ ] Crash reporting + logging
